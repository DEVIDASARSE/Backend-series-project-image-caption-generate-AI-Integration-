const express = require('express')
const router = express.Router();
const authMiddleware = require('../middlewares/auth.middleware')
const { createPostController } = require('../controllers/post.controller.js');
const multer = require('multer');


const upload = multer({storage: multer.memoryStorage()})// memory storage ka use karte hai kyuki hame image ko memory me store karna hai
/*POST: /api/posts [protected] {image-file}*/
router.post('/', authMiddleware, 
    upload.single('image'), 
    createPostController
)


module.exports = router;